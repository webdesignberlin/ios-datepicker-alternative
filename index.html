<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

    <style>
        body { margin: 0; padding: 0; }
        .demo {
            background: coral;
            padding: 3%;
        }

        .date {

            --date-color-bg: #fff;
            --date-height: 300px;
            max-width: 80%;
            background-color: var(--date-color-bg);
        }

        .date-fields {
            display: grid;
            grid-template: var(--date-height) / 1fr 1fr 1fr;
            grid-gap: 1em;
        }

        .date-field {
            overflow: auto;
            -webkit-overflow-scrolling: touch;
            scroll-snap-type: mandatory;
            /* older spec implementation */
            scroll-snap-destination: 0% 100%;
            scroll-snap-points-x: repeat(100%);
        }

        /* theming */
        .date-field__item--active {
            border: 1px solid red;
        }
    </style>

</head>
<body>
<div class="demo">
    <input type="date" class="date-trigger">
    <div class="date">
        <div class="date-fields">
            <!-- ul.date-list>li.date-list__item*12>button.date-field__item[data-date-field="day"][data-date-value="$"]{$} -->
        <div class="date-field date-field--day">
            <ul class="date-list">
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="day" data-date-value="01">1</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="day" data-date-value="02">2</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="day" data-date-value="03">3</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="day" data-date-value="04">4</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="day" data-date-value="05">5</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="day" data-date-value="06">6</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="day" data-date-value="07">7</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="day" data-date-value="08">8</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="day" data-date-value="09">9</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="day" data-date-value="10">10</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="day" data-date-value="11">11</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="day" data-date-value="12">12</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="day" data-date-value="13">13</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="day" data-date-value="14">14</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="day" data-date-value="15">15</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="day" data-date-value="16">16</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="day" data-date-value="17">17</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="day" data-date-value="18">18</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="day" data-date-value="19">19</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="day" data-date-value="20">20</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="day" data-date-value="21">21</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="day" data-date-value="22">22</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="day" data-date-value="23">23</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="day" data-date-value="24">24</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="day" data-date-value="25">25</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="day" data-date-value="26">26</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="day" data-date-value="27">27</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="day" data-date-value="28">28</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="day" data-date-value="29">29</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="day" data-date-value="30">30</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="day" data-date-value="31">31</button>
                </li>
            </ul>
        </div>
        <div class="date-field date-field--month">
            <ul class="date-list">
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="month" data-date-value="01">1</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="month" data-date-value="02">2</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="month" data-date-value="03">3</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="month" data-date-value="04">4</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="month" data-date-value="05">5</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="month" data-date-value="06">6</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="month" data-date-value="07">7</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="month" data-date-value="08">8</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="month" data-date-value="09">9</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="month" data-date-value="10">10</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="month" data-date-value="11">11</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="month" data-date-value="12">12</button>
                </li>
            </ul>
        </div>
        <div class="date-field date-field--year">
            <ul class="date-list">
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0001">0001</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0002">0002</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0003">0003</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0004">0004</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0005">0005</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0006">0006</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0007">0007</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0008">0008</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0009">0009</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0010">0010</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0011">0011</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0012">0012</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0013">0013</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0014">0014</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0015">0015</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0016">0016</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0017">0017</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0018">0018</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0019">0019</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0020">0020</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0021">0021</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0022">0022</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0023">0023</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0024">0024</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0025">0025</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0026">0026</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0027">0027</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0028">0028</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0029">0029</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0030">0030</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0031">0031</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0032">0032</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0033">0033</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0034">0034</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0035">0035</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0036">0036</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0037">0037</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0038">0038</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0039">0039</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0040">0040</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0041">0041</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0042">0042</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0043">0043</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0044">0044</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0045">0045</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0046">0046</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0047">0047</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0048">0048</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0049">0049</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0050">0050</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0051">0051</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0052">0052</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0053">0053</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0054">0054</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0055">0055</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0056">0056</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0057">0057</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0058">0058</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0059">0059</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0060">0060</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0061">0061</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0062">0062</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0063">0063</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0064">0064</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0065">0065</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0066">0066</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0067">0067</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0068">0068</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0069">0069</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0070">0070</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0071">0071</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0072">0072</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0073">0073</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0074">0074</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0075">0075</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0076">0076</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0077">0077</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0078">0078</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0079">0079</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0080">0080</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0081">0081</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0082">0082</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0083">0083</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0084">0084</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0085">0085</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0086">0086</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0087">0087</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0088">0088</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0089">0089</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0090">0090</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0091">0091</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0092">0092</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0093">0093</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0094">0094</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0095">0095</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0096">0096</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0097">0097</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0098">0098</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0099">0099</button>
                </li>
                <li class="date-list__item">
                    <button class="date-field__item" data-date-field="year" data-date-value="0100">0100</button>
                </li>
            </ul>
        </div>
    </div>
    </div>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.18.1/moment.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/nunjucks/3.0.0/nunjucks.min.js"></script>
<script>

    function initDay(datePicker) {
      let _elsDay = datePicker._elsDay;
      for (let fieldItem of _elsDay){
        fieldItem.addEventListener('click', function () {
          let value = fieldItem.dataset.dateValue;
          datePicker.setDay(value)
        });
      }
    }

    function initMonth(datePicker) {
      let _elsMonth = datePicker._elsMonth;
      for (let fieldItem of _elsMonth){
        fieldItem.addEventListener('click', function () {
          let value = fieldItem.dataset.dateValue;
          datePicker.setMonth(value)
        });
      }
    }

    function initYear(datePicker) {
      let _elsYear = datePicker._elsYear;
      for (let fieldItem of _elsYear){
        fieldItem.addEventListener('click', function () {
          let value = fieldItem.dataset.dateValue;
          datePicker.setYear(value)
        });
      }
    }

  class datePicker {
    constructor(dateInput){
      this._elDateInput = dateInput;
      this._elWrapper = document.querySelector('.date');
      this._elDayWrapper = this._elWrapper.querySelectorAll('.date-field--day')[0];
      this._elsDay = this._elDayWrapper.querySelectorAll('.date-field__item');
      this._elMonthWrapper = this._elWrapper.querySelectorAll('.date-field--month')[0];
      this._elsMonth = this._elMonthWrapper.querySelectorAll('.date-field__item');
      this._elYearWrapper = this._elWrapper.querySelectorAll('.date-field--year')[0];
      this._elsYear = this._elYearWrapper.querySelectorAll('.date-field__item');
      this.enteredDate = {
        year: '',
        month: '',
        day: ''
      };
    }

    generateYears(startYear = 1984) {
      let currentYear = new Date().getFullYear(), years = [];

      while ( startYear <= currentYear ) {
        years.push(startYear++);
      }

      return years;
    }

    setDay(day){
      console.log('setDay',day);
      let datePicker = this;
      let elsDayItems = datePicker._elsDay;
      let elActiveDay = datePicker._elDayWrapper.querySelectorAll(`[data-date-value="${day}"]`)[0];

      for (let elsDayItem of elsDayItems) {
        elsDayItem.classList.remove('date-field__item--active')
      }
      elActiveDay.classList.add('date-field__item--active');
      datePicker.enteredDate.day = day;
      datePicker.returnDate();
    }

    /*getDay(){
      let datePicker = this;
      let elActiveDay = datePicker._elDayWrapper.querySelectorAll(`.date-field__item--active`)[0];
      console.log('getDay', elActiveDay.dataset.dateValue);
      console.log(datePicker.enteredDate);
      //return elActiveDay.dataset.dateValue;
    }*/

    setMonth(month){
      console.log('setMonth',month);
      let datePicker = this;
      let elsMonthItems = datePicker._elsMonth;
      let elActiveMonth = datePicker._elMonthWrapper.querySelectorAll(`[data-date-value="${month}"]`)[0];

      for (let elMonthItem of elsMonthItems) {
        elMonthItem.classList.remove('date-field__item--active')
      }
      elActiveMonth.classList.add('date-field__item--active');
      datePicker.enteredDate.month = month;
      datePicker.returnDate();
    }

    setYear(year){
      console.log('setYear',year);
      let datePicker = this;
      let elsYearItems = datePicker._elsYear;
      let elActiveYear = datePicker._elYearWrapper.querySelectorAll(`[data-date-value="${year}"]`)[0];

      for (let elYearItem of elsYearItems) {
        elYearItem.classList.remove('date-field__item--active')
      }
      elActiveYear.classList.add('date-field__item--active');
      datePicker.enteredDate.year = year;
      datePicker.returnDate();
    }

    returnDate(){
      let datePicker = this;
      /*let checkDate = [
        datePicker.enteredDate.year,
        datePicker.enteredDate.month,
        datePicker.enteredDate.day
      ];*/
      let checkDate = datePicker.enteredDate.year + '-' + datePicker.enteredDate.month + '-' + datePicker.enteredDate.day;

      if (checkDate.match(/^(\d{4})\-(\d{1,2})\-(\d{1,2})$/)) {
        console.log(checkDate);
        this._elDateInput.value = datePicker.enteredDate.year + '-' + datePicker.enteredDate.month + '-' + datePicker.enteredDate.day;
      }
      /*console.log(moment(checkDate).isValid());
      if (moment(checkDate).isValid() === true) {
        this._elDateInput.value = moment(checkDate).format('YYYY-MM-DD');
      }*/
    }

    init(){
      let datePicker = this;
      initDay(datePicker);
      initMonth(datePicker);
      initYear(datePicker);
      console.log(datePicker.generateYears());
    }

  }

  let elDatePicker = document.querySelector('.date-trigger');
  let demo = new datePicker(elDatePicker);
  /*demo.setDay('11');
  demo.setMonth('08');
  demo.setYear('0007');*/
  demo.init();
</script>
    <script id="__bs_script__">//<![CDATA[
    document.write("<script async src='http://HOST:3002/browser-sync/browser-sync-client.js?v=2.18.8'><\/script>".replace("HOST", location.hostname));
    //]]></script>
</body>
</html>